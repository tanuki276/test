<!doctype html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>日本政府・軍が関与した戦争と事変 — 年号と詳細解説</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b6b;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", Roboto, "Helvetica Neue", Arial; margin:0; background:linear-gradient(180deg,#071025 0%, #081328 40%, #071024 100%); color:#e6eef8; min-height:100vh}
    header{padding:28px 20px;text-align:left}
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0;color:var(--muted)}
    .container{max-width:980px;margin:28px auto;padding:20px}
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin:16px 0}
    input[type=text]{padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:var(--glass);color:inherit;min-width:220px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:8px 12px;border-radius:8px;cursor:pointer}
    button.primary{background:linear-gradient(90deg,var(--accent),#ff9a9a);color:#071024;border:none}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;margin-top:12px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .card h3{margin:0 0 8px;font-size:16px}
    .meta{font-size:12px;color:var(--muted);margin-bottom:8px}
    .details{font-size:14px;color:#dbeafe;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;min-height:120px}
    .details[contenteditable]{outline:none}
    .card .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
    .small{font-size:12px;color:var(--muted)}
    footer{max-width:980px;margin:30px auto;color:var(--muted);font-size:13px;padding:0 20px}
    .hint{color:#fef3c7;background:#3b3b3b;border-radius:8px;padding:8px;margin-top:10px;font-size:13px}
    .topline{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .year{font-weight:700;color:#ffd6d6;margin-bottom:6px}
  </style>
</head>
<body>
  <header>
    <div class="topline">
      <div>
        <h1>日本政府・軍が関与した戦争と事変 — 年号と詳細解説</h1>
        <p class="lead">各項目に年号と詳細な解説を付与。史実の流れを分かりやすく、中立的にまとめている。</p>
      </div>
      <div style="text-align:right;color:var(--muted)">歴史的概観</div>
    </div>
  </header>  <main class="container">
    <div class="controls">
      <input id="q" type="text" placeholder="検索（タイトルでフィルタ）">
      <button id="reset">全て表示</button>
      <button id="export" class="primary">JSONでエクスポート</button>
      <button id="print">印刷</button>
    </div><div class="hint">項目名をクリックすると詳細欄が編集可能。解説は史実の流れを簡潔にまとめた。追記・修正は自由。</div>

<div id="list" class="grid" aria-live="polite"></div>

  </main>  <footer>
    <div>年号は主要な活動期間を示す。簡潔化のため一部の出来事は代表年のみ記載。</div>
  </footer>  <script>
    // 解説付きデータ
    const ITEMS = [
      {id:1,title:"戊辰戦争",desc:`<div class="year">1868–1869</div>
        <strong>概要：</strong>明治新政府軍と旧江戸幕府軍との間で勃発した日本史上最後の大規模な内戦。大政奉還後も旧幕府勢力は新政府に抵抗を続けた。鳥羽・伏見の戦いを皮切りに、北日本の奥羽越列藩同盟などを含む旧幕府勢力は次々と敗れ、最終的に五稜郭の戦いで終結。この戦争により、日本は江戸時代から明治時代へと移行し、中央集権国家の基盤が確立された。
      `},

      {id:2,title:"西南戦争",desc:`<div class="year">1877</div>
        <strong>概要：</strong>明治新政府に対する最後の士族の反乱。不平士族が政府の近代化政策（徴兵令や秩禄処分など）に不満を募らせる中、旧薩摩藩の指導者であった西郷隆盛を擁立して挙兵した。政府は新設の徴兵制による近代的な常備軍を投入し、約半年間の激戦の末に反乱を鎮圧。この戦いをもって、武士の時代は完全に終わりを告げ、日本は近代国家への道を揺るぎないものとした。
      `},

      {id:3,title:"北清事変（義和団事件）",desc:`<div class="year">1899–1901</div>
        <strong>概要：</strong>清朝末期、外国勢力への排斥運動である義和団が蜂起し、各国公使館を包囲した事件。これに対し、日本、ロシア、イギリス、アメリカなど8カ国が「八カ国連合軍」を結成して出兵。日本は連合軍の主要な構成国として軍を派遣し、公使館の救援と鎮圧に貢献した。この介入は日本の国際的地位を高めた一方で、中国への帝国主義的な干渉を加速させる一因ともなった。
      `},

      {id:4,title:"日清戦争",desc:`<div class="year">1894–1895</div>
        <strong>概要：</strong>朝鮮半島を巡る日本と清朝との対立が原因で勃発。日本は最新の軍備と戦術で清朝を圧倒し、陸海ともに勝利を収めた。下関条約によって、清は朝鮮の独立を認め、日本に遼東半島、台湾、澎湖諸島を割譲し、多額の賠償金を支払うことになった。しかし、遼東半島はロシア、ドイツ、フランスの三国干渉により清に返還を余儀なくされ、日本の国際関係における新たな課題が浮き彫りになった。
      `},

      {id:5,title:"日露戦争",desc:`<div class="year">1904–1905</div>
        <strong>概要：</strong>満州と朝鮮半島を巡る日本の南下政策とロシアの極東進出が衝突し、両国の間で戦争が始まった。日本海海戦や旅順攻囲戦、奉天会戦などで日本軍が勝利を重ね、アメリカの仲介でポーツマス条約が締結された。この条約により、日本は南満州の権益と樺太の南半分を獲得。アジアの一国がヨーロッパの大国に勝利したことは世界に大きな衝撃を与え、日本の国際的地位は大きく向上した。
      `},

      {id:6,title:"第一次世界大戦（対独戦・南洋占領・シベリア出兵）",desc:`<div class="year">1914–1918（対独戦）／1918–1922（シベリア出兵）</div>
        <strong>概要：</strong>日本は日英同盟を理由にドイツに宣戦布告し、青島要塞攻略戦やドイツ領南洋諸島の占領を行った。これにより、戦後のパリ講和会議で山東省の権益や旧ドイツ領南洋諸島の委任統治権を獲得。さらに、ロシア革命後の混乱期には、連合国の一員としてシベリア出兵を実施したが、当初の目的であったチェコ軍団の救出は果たせず、多数の犠牲と莫大な戦費を費やした。
      `},

      {id:7,title:"満州事変（柳条湖事件）",desc:`<div class="year">1931–1932</div>
        <strong>概要：</strong>中国東北部（満州）において、日本の関東軍が満鉄の線路を爆破し、これを中国側の仕業として軍事行動を開始した事件。国際的な非難を浴びる中、関東軍は満州全域を占領し、傀儡国家である満州国を建国した。この軍事行動は政府の統制を離れた軍部独走の始まりであり、国際連盟からの脱退を招くなど、日本の国際的孤立を決定づける重要な転換点となった。
      `},

      {id:8,title:"第一次上海事変（第一次上海抗戦）",desc:`<div class="year">1932（1月–5月）</div>
        <strong>概要：</strong>満州事変の影響で高まった中国の排日感情を背景に、上海で日中の衝突が発生。日本海軍陸戦隊と中国軍が激しい市街戦を展開した。この事変は国際都市であった上海を舞台にしたため、欧米列強の注視を浴び、国際社会における日本の立場をさらに悪化させた。最終的には国際的な調停により停戦協定が締結されたが、日中間の緊張は高まる一方であった。
      `},

      {id:9,title:"第二次上海事変（上海事変）",desc:`<div class="year">1937（8月–11月）</div>
        <strong>概要：</strong>盧溝橋事件を機に始まった日中戦争の序盤における大規模な都市戦。日本軍と中国軍が上海市内で3ヶ月以上にわたる激戦を展開した。日本軍は圧倒的な兵力と火器を投入し、最終的に上海を占領したが、予想をはるかに超える中国軍の抵抗に直面し、消耗戦となった。この戦いを契機に、日中戦争は局地的な衝突から、両国が総力を挙げる泥沼の全面戦争へと発展した。
      `},

      {id:10,title:"日中戦争",desc:`<div class="year">1937–1945</div>
        <strong>概要：</strong>盧溝橋事件から始まった、日本と中華民国との全面的な戦争。日本軍は短期間での勝利を目指したが、中国国民党軍や中国共産党軍の抵抗により戦線は拡大し、泥沼化した。日本は中国大陸の広大な地域を占領するも、占領地の統治に苦しみ、戦争は長期化。この戦争は日本の国力を著しく消耗させ、後の太平洋戦争へとつながる重要な要因となった。
      `},

      {id:11,title:"ノモンハン事件（ハルハ河戦争）",desc:`<div class="year">1939（5月–9月）</div>
        <strong>概要：</strong>満州国とモンゴル人民共和国の国境を巡り、満州国軍とソ連・モンゴル連合軍との間で発生した大規模な軍事衝突。この戦闘で、日本の関東軍はソ連のゲオルギー・ジューコフが率いる機械化されたソ連軍に壊滅的な敗北を喫した。この敗戦は、日本の北進政策を断念させ、その後の国防方針を南方へ転換させる決定的な要因となった。
      `},

      {id:12,title:"第二次世界大戦（大東亜戦争）",desc:`<div class="year">1941–1945（太平洋戦線）</div>
        <strong>概要：</strong>1939年にヨーロッパで始まった第二次世界大戦に、日本が参戦した局面。日独伊三国同盟を背景に、真珠湾攻撃を皮切りに太平洋戦争へと突入した。戦線は東南アジア、太平洋全域に拡大し、日本はアメリカ、イギリス、オランダなどを相手に戦争を続けた。しかし、物量に勝る連合軍に徐々に追い詰められ、本土空襲や原爆投下を経て、1945年8月にポツダム宣言を受諾し、無条件降伏に至った。
      `}
    ];

    const LIST = document.getElementById('list');
    const Q = document.getElementById('q');

    function loadSaved(){
      try{ const raw = localStorage.getItem('wars_notes_v1'); if(!raw) return {}; return JSON.parse(raw); }catch(e){return {}} }
    function saveAll(data){ localStorage.setItem('wars_notes_v1', JSON.stringify(data)); }
    const saved = loadSaved();

    function render(filter=''){
      LIST.innerHTML='';
      const f = filter.trim().toLowerCase();
      const items = ITEMS.filter(it => it.title.toLowerCase().includes(f));
      if(items.length===0){ LIST.innerHTML = '<div class="card">該当する項目がありません。</div>'; return }
      items.forEach(it=>{
        const card = document.createElement('div'); card.className='card';
        const h = document.createElement('h3'); h.textContent = it.title; h.style.cursor='pointer';
        h.addEventListener('click', ()=>{ const d = card.querySelector('.details'); d.setAttribute('contenteditable','true'); d.focus(); });
        const meta = document.createElement('div'); meta.className='meta'; meta.textContent = '編集可能 — 保存は自動。内容は参考用。';
        const det = document.createElement('div'); det.className='details'; det.dataset.id = it.id;
        det.innerHTML = (saved[it.id] && saved[it.id].desc) ? saved[it.id].desc : it.desc;
        det.addEventListener('focusout', ()=>{
          const id = det.dataset.id; const content = det.innerHTML; saved[id] = saved[id] || {}; saved[id].desc = content; saved[id].title = it.title; saveAll(saved); det.removeAttribute('contenteditable');
        });
        det.addEventListener('keydown',(e)=>{ if(e.key === 'Escape') { det.blur(); } if(e.key === 'Enter' && (e.ctrlKey||e.metaKey)) { e.preventDefault(); det.blur(); } });
        const actions = document.createElement('div'); actions.className='actions';
        const btnReset = document.createElement('button'); btnReset.textContent='リセット';
        btnReset.addEventListener('click', ()=>{ if(confirm('この項目の説明を消去していい？')){ delete saved[it.id]; saveAll(saved); det.innerHTML = it.desc; } });
        actions.appendChild(btnReset);
        card.appendChild(h); card.appendChild(meta); card.appendChild(det); card.appendChild(actions); LIST.appendChild(card);
      });
    }

    render();
    Q.addEventListener('input', ()=> render(Q.value));
    document.getElementById('reset').addEventListener('click', ()=>{ Q.value=''; render(); });
    document.getElementById('print').addEventListener('click', ()=> window.print());
    document.getElementById('export').addEventListener('click', ()=>{
      const out = ITEMS.map(it=>({id:it.id,title:it.title,desc:(saved[it.id] && saved[it.id].desc) ? saved[it.id].desc.replace(/<[^>]+>/g,'') : it.desc.replace(/<[^>]+>/g,'')}));
      const blob = new Blob([JSON.stringify(out,null,2)],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'wars_export_with_notes.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    });
  </script></body>
</html>
